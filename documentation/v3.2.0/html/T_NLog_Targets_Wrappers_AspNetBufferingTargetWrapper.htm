<html xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>AspNetBufferingTargetWrapper Class</title><link rel="stylesheet" type="text/css" href="../styles/presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/Dropdown.js"> </script><script type="text/javascript" src="../scripts/script_manifold.js"> </script><script type="text/javascript" src="../scripts/script_feedBack.js"> </script><script type="text/javascript" src="../scripts/CheckboxMenu.js"> </script><script type="text/javascript" src="../scripts/CommonUtilities.js"> </script><meta name="container" content="NLog.Targets.Wrappers" /><meta name="file" content="T_NLog_Targets_Wrappers_AspNetBufferingTargetWrapper" /><meta name="guid" content="T_NLog_Targets_Wrappers_AspNetBufferingTargetWrapper" /><xml><MSHelp:Attr Name="AssetID" Value="T:NLog.Targets.Wrappers.AspNetBufferingTargetWrapper" /><MSHelp:TOCTitle Title="AspNetBufferingTargetWrapper Class" /><MSHelp:RLTitle Title="AspNetBufferingTargetWrapper Class (NLog.Targets.Wrappers)" /><MSHelp:Keyword Index="A" Term="T:NLog.Targets.Wrappers.AspNetBufferingTargetWrapper" /><MSHelp:Keyword Index="A" Term="frlrfNLogTargetsWrappersAspNetBufferingTargetWrapperClassTopic" /><MSHelp:Keyword Index="K" Term="AspNetBufferingTargetWrapper class" /><MSHelp:Keyword Index="K" Term="NLog.Targets.Wrappers.AspNetBufferingTargetWrapper class" /><MSHelp:Keyword Index="K" Term="AspNetBufferingTargetWrapper class, about AspNetBufferingTargetWrapper class" /><MSHelp:Keyword Index="F" Term="AspNetBufferingTargetWrapper" /><MSHelp:Keyword Index="F" Term="NLog.Targets.Wrappers.AspNetBufferingTargetWrapper" /><MSHelp:Attr Name="HelpPriority" Value="2" /><MSHelp:Attr Name="APIType" Value="Managed" /><MSHelp:Attr Name="APILocation" Value="NLog.Extended.dll" /><MSHelp:Attr Name="APIName" Value="NLog.Targets.Wrappers.AspNetBufferingTargetWrapper" /><MSHelp:Attr Name="DevLang" Value="CSharp" /><MSHelp:Attr Name="DevLang" Value="VB" /><MSHelp:Attr Name="DevLang" Value="VB" /><MSHelp:Attr Name="Locale" Value="en-us" /><MSHelp:Attr Name="TopicType" Value="kbSyntax" /><MSHelp:Attr Name="TopicType" Value="apiref" /><MSHelp:Attr Name="Abstract" Value="Buffers log events for the duration of ASP.NET request and sends them down to the wrapped target at the end of a request." /><MSHelp:Attr Name="AssemblyVersion" Value="0.0.0.0" /></xml><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"></script></head><body><input type="hidden" id="userDataCache" class="userDataStyle" /><input type="hidden" id="hiddenScrollOffset" /><img id="collapseImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" title="Collapse image" /><img id="expandImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" title="Expand Image" /><img id="collapseAllImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" /><img id="expandAllImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" /><img id="dropDownImage" style="display:none; height:0; width:0;" src="../icons/dropdown.gif" /><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../icons/dropdownHover.gif" /><img id="copyImage" style="display:none; height:0; width:0;" src="../icons/copycode.gif" title="Copy image" /><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../icons/copycodeHighlight.gif" title="CopyHover image" /><div id="header"><table cellspacing="0" cellpadding="0"><tr><td align="center" style="width: 1px; padding: 0px"><img src="../images/NLogo.gif" /></td><td><table id="topTable" cellspacing="0" cellpadding="0"><tr><td><span onclick="ExpandCollapseAll(toggleAllImage)" style="cursor:default;" onkeypress="ExpandCollapseAll_CheckKey(toggleAllImage, event)" tabindex="0"><img ID="toggleAllImage" class="toggleAll" src="../icons/collapse_all.gif" /> <label id="collapseAllLabel" for="toggleAllImage" style="display: none;">Collapse All</label><label id="expandAllLabel" for="toggleAllImage" style="display: none;">Expand All</label> </span><span>    </span><span id="devlangsDropdown" class="filter" tabindex="0"><img id="devlangsDropdownImage" src="../icons/dropdown.gif" /> <label id="devlangsMenuAllLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: All </nobr></label><label id="devlangsMenuMultipleLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: Multiple </nobr></label><label id="devlangsMenuCSharpLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: C# </nobr></label><label id="devlangsMenuVisualBasicLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: Visual Basic </nobr></label><label id="devlangsMenuVisualBasicUsageLabel" for="devlangsDropdownImage" style="display: none;"><nobr>Code: Visual Basic (Usage) </nobr></label></span></td></tr></table><div id="devlangsMenu"><input id="CSharpCheckbox" type="checkbox" data="CSharp,cs,'persist'" value="on" onClick="SetLanguage(this)" /><label class="checkboxLabel" for="CSharpCheckbox">C#</label><br /><input id="VisualBasicCheckbox" type="checkbox" data="VisualBasic,vb,'persist'" value="on" onClick="SetLanguage(this)" /><label class="checkboxLabel" for="VisualBasicCheckbox">Visual Basic</label><br /><input id="VisualBasicUsageCheckbox" type="checkbox" data="VisualBasicUsage,vb,'persist'" value="on" onClick="SetLanguage(this)" /><label class="checkboxLabel" for="VisualBasicUsageCheckbox">Visual Basic (Usage)</label><br /></div><table id="bottomTable" cellpadding="0" cellspacing="0"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText">NLog v3.2.0.0</span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">AspNetBufferingTargetWrapper Class</span></td></tr><tr id="headerTableRow3"><td align="left"><a href="AllMembers_T_NLog_Targets_Wrappers_AspNetBufferingTargetWrapper.htm">Members</a>  <a href="#exampleToggle" onclick="OpenSection(exampleToggle)">Example</a>  <a href="#seeAlsoToggle" onclick="OpenSection(seeAlsoToggle)">See Also</a>  
  <span id="headfeedbackarea" class="feedbackhead">
      <a href="javascript:SubmitFeedback('','NLog v3.2.0.0','','','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback');">
        
        Send Feedback
      </a>
	</span>
</td></tr></table></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()" /><span style="color: DarkGray"> </span><div class="summary">
            Buffers log events for the duration of ASP.NET request and sends them down 
            to the wrapped target at the end of a request.
            </div><p />
    <b>Namespace:</b> 
   <a href="N_NLog_Targets_Wrappers.htm">NLog.Targets.Wrappers</a><br />
    <b>Assembly:</b>
   <span sdata="assembly">NLog.Extended</span> (in NLog.Extended.dll) Version: 0.0.0.0<h1 class="heading"><span onclick="ExpandCollapse(syntaxToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(syntaxToggle, event)" tabindex="0"><img id="syntaxToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Syntax</span></h1><div id="syntaxSection" class="section" name="collapseableSection" style=""><div id="syntaxCodeBlocks" class="code"><span codeLanguage="CSharp"><table><tr><th>C#</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">AspNetBufferingTargetWrapper</span> : <a href="T_NLog_Targets_Wrappers_WrapperTargetBase.htm">WrapperTargetBase</a></pre></td></tr></table></span><span codeLanguage="VisualBasicDeclaration"><table><tr><th>Visual Basic (Declaration)</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Class</span> <span class="identifier">AspNetBufferingTargetWrapper</span> _
	<span class="keyword">Inherits</span> <a href="T_NLog_Targets_Wrappers_WrapperTargetBase.htm">WrapperTargetBase</a></pre></td></tr></table></span><span codeLanguage="VisualBasicUsage"><table><tr><th>Visual Basic (Usage)</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">Dim</span> <span class="parameter">instance</span> <span class="keyword">As</span> <span class="identifier">AspNetBufferingTargetWrapper</span></pre></td></tr></table></span></div></div><h1 class="heading"><span onclick="ExpandCollapse(remarksToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(remarksToggle, event)" tabindex="0"><img id="remarksToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Remarks</span></h1><div id="remarksSection" class="section" name="collapseableSection" style="">
            <p>
            Typically this target is used in cooperation with PostFilteringTargetWrapper
            to provide verbose logging for failing requests and normal or no logging for
            successful requests. We need to make the decision of the final filtering rule
            to apply after all logs for a page have been generated.
            </p>
            <p>
            To use this target, you need to add an entry in the httpModules section of
            web.config:
            </p>
            <span><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img src="../icons/CopyCode.gif" style="margin-right: 5px;" />Copy</span>XML</div><div class="code"><pre><span class="highlight-lineno">1</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-xml-bracket">&lt;?</span><span class="highlight-xml-tag">xml</span> <span class="highlight-xml-attribute-name">version</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"1.0"</span> <span class="highlight-xml-bracket">?&gt;</span>
<span class="highlight-lineno">2</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">configuration</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">3</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>  <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">system.web</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">4</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">httpModules</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">5</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>      <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">add</span> <span class="highlight-xml-attribute-name">name</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"NLog"</span> <span class="highlight-xml-attribute-name">type</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"NLog.Web.NLogHttpModule, NLog.Extended"</span><span class="highlight-xml-bracket">/&gt;</span>
<span class="highlight-lineno">6</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">httpModules</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">7</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>  <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">system.web</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">8</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">configuration</span><span class="highlight-xml-bracket">&gt;</span></pre></div></span>
            </div><h1 class="heading"><span onclick="ExpandCollapse(exampleToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(exampleToggle, event)" tabindex="0"><img id="exampleToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Examples</span></h1><div id="exampleSection" class="section" name="collapseableSection" style="">
            <p>To set up the ASP.NET Buffering target wrapper <a href="config.html">configuration file</a>, put
            the following in <span class="code">web.nlog</span> file in your web application directory (this assumes
            that PostFilteringWrapper is used to provide the filtering and actual logs go to
            a file).
            </p>
            <span><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img src="../icons/CopyCode.gif" style="margin-right: 5px;" />Copy</span>XML</div><div class="code"><pre><span class="highlight-lineno"> 1</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-xml-bracket">&lt;?</span><span class="highlight-xml-tag">xml</span> <span class="highlight-xml-attribute-name">version</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"1.0"</span> <span class="highlight-xml-bracket">?&gt;</span>
<span class="highlight-lineno"> 2</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">nlog</span> <span class="highlight-xml-attribute-name">xmlns</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.nlog-project.org/schemas/NLog.xsd"</span>
<span class="highlight-lineno"> 3</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>      <span class="highlight-xml-attribute-name">xmlns:xsi</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno"> 4</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">targets</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno"> 5</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">target</span> <span class="highlight-xml-attribute-name">name</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"t"</span> <span class="highlight-xml-attribute-name">xsi:type</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"ASPNetBufferingWrapper"</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno"> 6</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">target</span> <span class="highlight-xml-attribute-name">xsi:type</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"PostFilteringWrapper"</span> <span class="highlight-xml-attribute-name">defaultFilter</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"level &amp;gt;= LogLevel.Info"</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno"> 7</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">target</span> <span class="highlight-xml-attribute-name">xsi:type</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"File"</span> <span class="highlight-xml-attribute-name">fileName</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"${basedir}/file.txt"</span><span class="highlight-xml-bracket">/&gt;</span>
<span class="highlight-lineno"> 8</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>                <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">when</span> <span class="highlight-xml-attribute-name">exists</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"level &amp;gt;= LogLevel.Warn"</span> <span class="highlight-xml-attribute-name">filter</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"level &amp;gt;= LogLevel.Debug"</span><span class="highlight-xml-bracket">/&gt;</span>
<span class="highlight-lineno"> 9</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">target</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">10</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">target</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">11</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">targets</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">12</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">rules</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">13</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        <span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">logger</span> <span class="highlight-xml-attribute-name">name</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"*"</span> <span class="highlight-xml-attribute-name">minlevel</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"Debug"</span> <span class="highlight-xml-attribute-name">writeTo</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"t"</span> <span class="highlight-xml-bracket">/&gt;</span>
<span class="highlight-lineno">14</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    <span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">rules</span><span class="highlight-xml-bracket">&gt;</span>
<span class="highlight-lineno">15</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-xml-bracket">&lt;/</span><span class="highlight-xml-tag">nlog</span><span class="highlight-xml-bracket">&gt;</span></pre></div></span>
            <p>
            This assumes just one target and a single rule. More configuration
            options are described <a href="config.html">here</a>.
            </p>
            <p>
            To configure the target programmatically, put the following
            piece of code in your <span class="code">Application_OnStart()</span> handler in Global.asax.cs 
            or some other place that gets executed at the very beginning of your code:
            </p>
            <span id="cbc_3" x-lang="CSharp" codeLanguage="CSharp"><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img src="../icons/CopyCode.gif" style="margin-right: 5px;" />Copy</span>C#</div><div class="code"><pre><span class="highlight-lineno"> 1</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> System;
<span class="highlight-lineno"> 2</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> System.Data;
<span class="highlight-lineno"> 3</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> System.Configuration;
<span class="highlight-lineno"> 4</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> System.Collections;
<span class="highlight-lineno"> 5</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> System.Web;
<span class="highlight-lineno"> 6</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> System.Web.Security;
<span class="highlight-lineno"> 7</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> System.Web.SessionState;
<span class="highlight-lineno"> 8</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> NLog.Targets.Wrappers;
<span class="highlight-lineno"> 9</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> NLog.Targets;
<span class="highlight-lineno">10</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> NLog.Config;
<span class="highlight-lineno">11</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">using</span> NLog;
<span class="highlight-lineno">12</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>
<span class="highlight-lineno">13</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span><span class="highlight-keyword">namespace</span> ASPNetBufferingWrapper
<span class="highlight-lineno">14</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>{
<span class="highlight-lineno">15</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    <span class="highlight-keyword">public</span> <span class="highlight-keyword">class</span> Global : System.Web.HttpApplication
<span class="highlight-lineno">16</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    {
<span class="highlight-lineno">17</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        <span class="highlight-keyword">protected</span> <span class="highlight-keyword">void</span> Application_Start(<span class="highlight-keyword">object</span> sender, EventArgs e)
<span class="highlight-lineno">18</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        {
<span class="highlight-lineno">19</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            FileTarget fileTarget = <span class="highlight-keyword">new</span> FileTarget();
<span class="highlight-lineno">20</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            fileTarget.FileName = <span class="highlight-literal">"${basedir}/logfile.txt"</span>;
<span class="highlight-lineno">21</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>
<span class="highlight-lineno">22</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            PostFilteringTargetWrapper postfilteringTarget = <span class="highlight-keyword">new</span> PostFilteringTargetWrapper();
<span class="highlight-lineno">23</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            ASPNetBufferingTargetWrapper aspnetBufferingTarget = <span class="highlight-keyword">new</span> ASPNetBufferingTargetWrapper();
<span class="highlight-lineno">24</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            aspnetBufferingTarget.WrappedTarget = postfilteringTarget;
<span class="highlight-lineno">25</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            postfilteringTarget.WrappedTarget = fileTarget;
<span class="highlight-lineno">26</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>
<span class="highlight-lineno">27</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            postfilteringTarget.DefaultFilter = <span class="highlight-literal">"level &gt;= LogLevel.Info"</span>;
<span class="highlight-lineno">28</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            FilteringRule rule = <span class="highlight-keyword">new</span> FilteringRule();
<span class="highlight-lineno">29</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            rule.Exists = <span class="highlight-literal">"level &gt;= LogLevel.Warn"</span>;
<span class="highlight-lineno">30</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            rule.Filter = <span class="highlight-literal">"level &gt;= LogLevel.Debug"</span>;
<span class="highlight-lineno">31</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            postfilteringTarget.Rules.Add(rule);
<span class="highlight-lineno">32</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>
<span class="highlight-lineno">33</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>            SimpleConfigurator.ConfigureForTargetLogging(aspnetBufferingTarget, LogLevel.Debug);
<span class="highlight-lineno">34</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        }
<span class="highlight-lineno">35</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>
<span class="highlight-lineno">36</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        <span class="highlight-keyword">protected</span> <span class="highlight-keyword">void</span> Application_End(<span class="highlight-keyword">object</span> sender, EventArgs e)
<span class="highlight-lineno">37</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        {
<span class="highlight-lineno">38</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>        }
<span class="highlight-lineno">39</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>    }
<span class="highlight-lineno">40</span><span class="highlight-lnborder"></span><span class="highlight-spacerShort"></span>}</pre></div></span>
            <p>
            Fully working C# project can be found in the <span class="code">Examples/Targets/Configuration API/ASPNetBufferingWrapper</span>
            directory along with usage instructions.
            </p>
            </div><h1 class="heading"><span onclick="ExpandCollapse(familyToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(familyToggle, event)" tabindex="0"><img id="familyToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Inheritance Hierarchy</span></h1><div id="familySection" class="section" name="collapseableSection" style=""><span class="nolink">Object</span><br />  <a href="T_NLog_Targets_Target.htm">NLog.Targets<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span></span>Target</a><br />    <a href="T_NLog_Targets_Wrappers_WrapperTargetBase.htm">NLog.Targets.Wrappers<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span></span>WrapperTargetBase</a><br />      <span class="selflink">NLog.Targets.Wrappers<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span></span>AspNetBufferingTargetWrapper</span><br /></div><h1 class="heading"><span onclick="ExpandCollapse(seeAlsoToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(seeAlsoToggle, event)" tabindex="0"><img id="seeAlsoToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />See Also</span></h1><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><a href="AllMembers_T_NLog_Targets_Wrappers_AspNetBufferingTargetWrapper.htm">AspNetBufferingTargetWrapper Members</a></div><div class="seeAlsoStyle"><a href="N_NLog_Targets_Wrappers.htm">NLog.Targets.Wrappers Namespace</a></div><div class="seeAlsoStyle"><a href="http://nlog-project.org/wiki/AspNetBufferingWrapper_target">Documentation on NLog Wiki</a></div></div></div><div id="footer"><div class="footerLine"><img width="100%" height="3px" src="../icons/footer.gif" title="Footer image" /></div><A NAME="feedback"></A><span id="fb" class="feedbackcss"> </span>
 <p /><a href="http://nlog-project.org/" target="_blank">Copyright (c) 2004-2015 by Kim Christensen</a></div></div></body></html>